<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sabor 503 ‚Äî Prototipo Men√∫</title>

<!-- Fuentes -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg: #FAF3E0;
    --card: #fff;
    --accent: #D35400;
    --accent-dark: #B64500;
    --muted: #A1887F;
    --text: #4E342E;
    --danger: #C0392B;
    --shadow: 0 6px 18px rgba(78,52,46,0.08);
    --radius: 10px;
    --gap: 16px;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.4;
  }

  .container{
    max-width:1100px;
    margin:28px auto;
    padding: 20px;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
    margin-bottom:18px;
  }

  .logo{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo .badge{
    width:56px;
    height:56px;
    border-radius:12px;
    background:linear-gradient(135deg,#c96a20,#d96b1f);
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
    font-weight:700;
    font-family:"Playfair Display",serif;
    font-size:18px;
  }
  .brand .name{
    font-family:"Playfair Display",serif;
    font-size:18px;
    font-weight:700;
  }
  .brand .tag{
    font-size:12px;
    color:var(--muted);
  }

  .cta{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .btn{
    background:var(--accent);
    color:white;
    border:0;
    padding:10px 16px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    box-shadow: 0 6px 12px rgba(211,84,0,0.12);
  }
  .btn.secondary{
    background:transparent;
    color:var(--text);
    border:1px solid rgba(78,52,46,0.06);
    box-shadow:none;
  }

  .hero{
    background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
    padding:20px;
    border-radius:14px;
    display:flex;
    gap:20px;
    align-items:center;
    margin-bottom:22px;
  }
  .hero-left{
    flex:1;
  }
  .hero h1{
    margin:0 0 8px 0;
    font-family:"Playfair Display",serif;
    font-size:28px;
  }
  .hero p{
    margin:0 0 12px 0;
    color:var(--muted);
  }
  .hero .cta-large{
    padding:12px 18px;
    font-size:16px;
    border-radius:12px;
  }

  .hero-img{
    width:220px;
    height:140px;
    border-radius:12px;
    overflow:hidden;
    flex-shrink:0;
  }
  .hero-img img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  .menu-grid{
    display:grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--gap);
  }

  .card{
    background:var(--card);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:12px;
    display:flex;
    gap:12px;
    align-items:center;
  }

  .thumb{
    width:100px;
    height:100px;
    border-radius:10px;
    overflow:hidden;
    flex-shrink:0;
  }
  .thumb img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  .price-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .price{ color:var(--danger); font-weight:700; font-size:16px; }

  .add-btn{
    background:var(--accent);
    color:white;
    padding:8px 12px;
    border-radius:8px;
    border:0;
    cursor:pointer;
    font-weight:600;
  }

  .cart-bar{
    position:fixed;
    left:50%;
    transform:translateX(-50%);
    bottom:18px;
    width:calc(100% - 40px);
    max-width:1100px;
    background:linear-gradient(90deg, rgba(211,84,0,0.06), rgba(211,84,0,0.02));
    padding:10px 14px;
    border-radius:12px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 10px 24px rgba(78,52,46,0.08);
  }

  .overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.35);
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
    z-index:50;
  }
  .overlay.open{ display:flex }

  .cart-modal, .detail-card{
    width:100%;
    max-width:720px;
    background:var(--card);
    border-radius:12px;
    padding:18px;
    box-shadow:var(--shadow);
  }

  .detail{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
    z-index:60;
  }
  .detail.open{ display:flex }

  .detail-card{
    max-width:900px;
    display:flex;
    gap:18px;
  }

  .detail-media{
    width:50%;
    border-radius:8px;
    overflow:hidden;
  }
  .detail-media img{
    width:100%;
    height:100%;
    object-fit:cover;
  }

  .detail-body{
    width:50%;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  @media(max-width:880px){
    .menu-grid{ grid-template-columns:1fr; }
    .detail-card{ flex-direction:column; }
    .detail-media, .detail-body{ width:100%; }
    .hero-img{ display:none; }
  }
</style>
</head>
<body>

<div class="container">

  <header>
    <div class="logo">
      <div class="badge">S503</div>
      <div class="brand">
        <div class="name">Sabor 503</div>
        <div class="tag">Comida casera ‚Ä¢ Pedido en l√≠nea</div>
      </div>
    </div>

    <div class="cta">
      <button class="btn secondary" onclick="scrollToMenu()">Ver men√∫</button>
      <button class="btn" onclick="openCart()">Carrito</button>
    </div>
  </header>

  <section class="hero">
    <div class="hero-left">
      <h1>Haz tu pedido sin esperas</h1>
      <p>Consulta el men√∫, agrega al carrito y recoge o recibe tu pedido.</p>
      <button class="btn cta-large" onclick="scrollToMenu()">Ver men√∫</button>
    </div>
    <div class="hero-img"><img src="https://picsum.photos/seed/hero/800/500"></div>
  </section>

  <main id="menu">
    <h2 style="font-family:'Playfair Display',serif;">Men√∫ del d√≠a</h2>
    <div class="menu-grid" id="menuGrid"></div>
  </main>

</div>

<!-- Carrito flotante -->
<div class="cart-bar">
  <div class="summary" id="cartSummary">üõí Carrito (0) ‚Äî Total: $0.00</div>
  <button onclick="openCart()" class="btn">Ver carrito</button>
</div>

<!-- Modal carrito -->
<div class="overlay" id="cartOverlay">
  <div class="cart-modal">
    <h2>Tu carrito</h2>
    <div id="cartList"></div>

    <div style="display:flex; gap:12px; margin-top:10px; flex-wrap:wrap;">

      <div>
        <label style="font-weight:600">Tipo de entrega</label>
        <select id="deliveryType" style="padding:8px; border-radius:8px;">
          <option value="pickup">Recoger en restaurante</option>
          <option value="delivery">Domicilio (+ $1.00)</option>
        </select>
      </div>

      <div>
        <label style="font-weight:600">M√©todo de pago</label>
        <select id="paymentMethod" style="padding:8px; border-radius:8px;">
          <option value="cash">Efectivo</option>
          <option value="transfer">Transferencia</option>
          <option value="card">Tarjeta</option>
        </select>
      </div>

      <div id="paymentDetails" style="display:none; width:100%;">
        <label style="font-weight:600;">Detalles de tarjeta</label>
        <input id="cardName" placeholder="Nombre" style="width:100%; padding:8px; margin:4px 0;">
        <input id="cardNumber" placeholder="N√∫mero de tarjeta" style="width:100%; padding:8px; margin:4px 0;">
        <div style="display:flex; gap:6px;">
          <input id="cardExp" placeholder="MM/AA" style="flex:1; padding:8px;">
          <input id="cardCVC" placeholder="CVC" style="width:80px; padding:8px;">
        </div>
      </div>

    </div>

    <div id="totalsRow" style="margin-top:12px"></div>

    <div style="display:flex; gap:10px; margin-top:14px;">
      <button class="btn" onclick="confirmOrder()">Confirmar pedido</button>
      <button class="btn secondary" onclick="closeCart()">Seguir comprando</button>
    </div>

  </div>
</div>

<!-- Modal detalle -->
<div class="detail" id="detailOverlay">
  <div class="detail-card">

    <div class="detail-media"><img id="detailImg"></div>

    <div class="detail-body">
      <h2 id="detailName"></h2>
      <div id="detailPrice" style="color:#C0392B; font-weight:700;"></div>
      <p id="detailDesc" style="color:var(--muted);"></p>

      <div id="detailOptions"></div>

      <div style="display:flex; gap:12px; align-items:center; margin-top:12px;">
        <div>
          <label>Cantidad</label>
          <div style="display:flex; gap:6px; align-items:center;">
            <button class="btn secondary" onclick="changeDetailQty(-1)">-</button>
            <div id="detailQty" style="min-width:28px; text-align:center;">1</div>
            <button class="btn secondary" onclick="changeDetailQty(1)">+</button>
          </div>
        </div>

        <button class="add-btn" onclick="addFromDetail()">Agregar</button>
        <button class="btn secondary" onclick="closeDetail()">Cerrar</button>
      </div>

    </div>

  </div>
</div>

<script>
/* ============================
   PRODUCTOS ‚Äî VERSI√ìN FINAL
   ============================ */
const products = [
  {id:1, name:'Carne Asada', price:3.50, desc:'Carne asada al carb√≥n, acompa√±ada de arroz y ensalada fresca.', img:'https://picsum.photos/seed/carneasada/800/600'},
  {id:2, name:'Pollo a la Plancha', price:3.00, desc:'Pechuga de pollo sazonada y cocinada a la plancha.', img:'httpsum.photos/seed/pollo/800/600'},
  {id:3, name:'Carne Encebollada', price:3.50, desc:'Tiras de carne salteadas con cebolla caramelizada.', img:'https://picsum.photos/seed/encebollada/800/600'},
  {id:4, name:'Rellenos', price:3.00, desc:'Rellenos tradicionales servidos con arroz y ensalada.', img:'https://picsum.photos/seed/rellenos/800/600'},
  {id:5, name:'Sopa de Gallina', price:5.00, desc:'Sopa de gallina criolla con verduras frescas.', img:'https://picsum.photos/seed/sopagallina/800/600'},
  {id:6, name:'Pescado Frito', price:5.50, desc:'Pescado dorado y crujiente, servido con arroz y ensalada.', img:'https://picsum.photos/seed/pescado/800/600'},
  {id:7, name:'Tortas', price:3.50, desc:'Torta con carne y vegetales frescos.', img:'https://picsum.photos/seed/torta/800/600'},
  {id:8, name:'Tacos', price:4.00, desc:'Tres tacos con carne sazonada, pico de gallo y salsa.', img:'https://picsum.photos/seed/tacos/800/600'},
  {id:9, name:'Nachos', price:3.00, desc:'Totopos con queso derretido y frijoles.', img:'https://picsum.photos/seed/nachos/800/600'},
  {id:10, name:'Hamburguesa', price:4.50, desc:'Hamburguesa casera con papas.', img:'https://picsum.photos/seed/hamburguesa/800/600'}
];

/* =============================
   FORMAT MONEY
   ============================= */
function formatMoney(v){
  return '$' + Number(v).toFixed(2);
}

/* =============================
   RENDER MENU ‚Äî FINAL VERSION
   ============================= */
function renderMenu(){
  const grid = document.getElementById('menuGrid');
  grid.innerHTML = "";

  products.forEach(p=>{
    const card = document.createElement('article');
    card.className = 'card';

    card.innerHTML = `
      <div class="thumb">
        <img 
          src="${p.img}" 
          alt="${p.name}" 
          loading="lazy"
          onerror="this.onerror=null; this.src='https://picsum.photos/seed/fallback/400/300';"
        >
      </div>

      <div class="info">
        <h3>${p.name}</h3>
        <p>${p.desc}</p>

        <div class="price-row">
          <div class="price">${formatMoney(p.price)}</div>
          <button class="add-btn" onclick="openDetail(${p.id})">Ver / Agregar</button>
        </div>
      </div>
    `;

    grid.appendChild(card);
  });
}

/* =======================================================
   CARRITO + DETALLES (todo igual que versi√≥n anterior)
   ======================================================= */

let cart = [];
let currentDetail = null;
let detailQty = 1;

function updateCart(){
  const summary = document.getElementById("cartSummary");
  let count = cart.reduce((a,b)=>a+b.qty,0);
  let total = cart.reduce((a,b)=>a+b.qty*b.price,0);
  summary.textContent = `üõí Carrito (${count}) ‚Äî Total: ${formatMoney(total)}`;

  const list = document.getElementById("cartList");
  list.innerHTML = "";
  cart.forEach((i, idx)=>{
    list.innerHTML += `
      <div class="cart-item" style="display:flex; gap:12px; border-bottom:1px dashed #ddd; padding:8px 0;">
        <img src="${i.img}" style="width:60px; height:60px; object-fit:cover; border-radius:8px">
        <div style="flex:1">
          <div style="font-weight:700;">${i.name}</div>
          <small>${i.options ? i.options.join(', ') : ''}</small>
          <div>(${i.qty} x ${formatMoney(i.price)})</div>
        </div>
        <div>
          <div>${formatMoney(i.qty * i.price)}</div>
          <div style="display:flex; gap:6px;">
            <button class="btn secondary" onclick="changeItemQty(${idx}, -1)">-</button>
            <button class="btn secondary" onclick="changeItemQty(${idx}, 1)">+</button>
            <button class="btn secondary" onclick="removeItem(${idx})">X</button>
          </div>
        </div>
      </div>
    `;
  });

  const subtotal = cart.reduce((s,i)=>s + i.qty*i.price,0);
  const deliveryType = document.getElementById('deliveryType').value;
  const deliveryFee = (deliveryType === 'delivery') ? 1.00 : 0.00;

  document.getElementById('totalsRow').innerHTML = `
    <div style="display:flex; justify-content:space-between;"><div>Subtotal:</div><div>${formatMoney(subtotal)}</div></div>
    <div style="display:flex; justify-content:space-between;"><div>Entrega:</div><div>${formatMoney(deliveryFee)}</div></div>
    <div style="display:flex; justify-content:space-between; font-weight:700; margin-top:6px;">
      <div>Total:</div><div>${formatMoney(subtotal + deliveryFee)}</div>
    </div>
  `;
}

function openCart(){
  document.getElementById("cartOverlay").classList.add("open");
  updateCart();
}
function closeCart(){
  document.getElementById("cartOverlay").classList.remove("open");
}

function changeItemQty(i, d){
  cart[i].qty += d;
  if(cart[i].qty <= 0) cart.splice(i,1);
  updateCart();
}
function removeItem(i){
  cart.splice(i,1);
  updateCart();
}

/* DETALLE */
function openDetail(id){
  currentDetail = products.find(p=>p.id===id);
  detailQty = 1;

  document.getElementById("detailImg").src = currentDetail.img;
  document.getElementById("detailName").textContent = currentDetail.name;
  document.getElementById("detailPrice").textContent = formatMoney(currentDetail.price);
  document.getElementById("detailDesc").textContent = currentDetail.desc;

  const wrapper = document.getElementById('detailOptions');
  wrapper.innerHTML = "";
  ["Sin cebolla","Extra salsa","Vegetales aparte"].forEach(o=>{
    wrapper.innerHTML += `<label><input type="checkbox" value="${o}" style="margin-right:6px;"> ${o}</label><br>`;
  });

  document.getElementById("detailQty").textContent = detailQty;

  document.getElementById("detailOverlay").classList.add("open");
}
function closeDetail(){
  document.getElementById("detailOverlay").classList.remove("open");
}

function changeDetailQty(delta){
  detailQty = Math.max(1, detailQty + delta);
  document.getElementById("detailQty").textContent = detailQty;
}

function addFromDetail(){
  const opts = [...document.querySelectorAll('#detailOptions input:checked')].map(x=>x.value);

  cart.push({
    ...currentDetail,
    qty: detailQty,
    options: opts
  });

  updateCart();
  closeDetail();
  openCart();
}

/* PAGO */
document.addEventListener('change', e=>{
  if(e.target.id === 'paymentMethod'){
    const show = e.target.value === 'card';
    document.getElementById('paymentDetails').style.display = show ? 'block' : 'none';
  }
  if(e.target.id === 'deliveryType'){
    updateCart();
  }
});

function confirmOrder(){
  if(cart.length === 0){
    alert("El carrito est√° vac√≠o.");
    return;
  }

  const payment = document.getElementById('paymentMethod').value;
  if(payment === 'card'){
    if(
      !document.getElementById("cardName").value.trim() ||
      !document.getElementById("cardNumber").value.trim() ||
      !document.getElementById("cardExp").value.trim() ||
      !document.getElementById("cardCVC").value.trim()
    ){
      alert("Completa los datos de la tarjeta.");
      return;
    }
  }

  const order = Math.floor(Math.random()*900 + 100);

  alert(`¬°Pedido confirmado!\nOrden #${order}\nGracias por tu compra.`);

  cart = [];
  updateCart();
  closeCart();
}

/* Helpers */
function scrollToMenu(){
  document.getElementById('menu').scrollIntoView({behavior:'smooth'});
}

/* Inicial */
renderMenu();
updateCart();
</script>

</body>
</html>










